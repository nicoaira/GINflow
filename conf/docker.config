// Docker profile configuration
profiles {
  docker {
    // Prevent mounting the host project directory at its absolute path inside the container
    docker.autoMounts = false

    process.executor = 'local'
    docker.enabled = true
    // set your built pipeline container name:tag here
    process.container = 'ginflow:0.1.0'

    // Explicitly disable trace and report features for the Docker profile
    trace.enabled = false
    report.enabled = false
    timeline.enabled = false
    dag.enabled = false

    // Ensure the container's own /app/bin is used, not a host path
    // Prepend /app/bin to ensure scripts in the container's bin are found first.
    process.env.PATH = '/app/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin'

    // Prevent Nextflow from automatically adding the host project's bin/ to the PATH
    // The PATH above is sufficient for the container environment.
    nextflow.project.manifest.projectDirBinMode = 'ignore'
  }
}